<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Reaction Time - Munetios Games Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://api.munetios.com/beautiful-css/beautiful.css"
    />
    <style>
      body {
        font-family: sans-serif;
        background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        min-height: 100vh;
        padding: 20px;
      }
      #target {
        width: 600px;
        height: 400px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 32px;
        font-weight: bold;
        color: white;
        cursor: pointer;
        margin: 20px auto;
      }
      .red {
        background: #ef4444;
      }
      .green {
        background: #22c55e;
      }
      .yellow {
        background: #eab308;
      }
    </style>
  </head>
  <body>
    <div class="max-w-3xl mx-auto">
      <div class="liquid-glass p-8 text-center mb-6">
        <h1 class="text-4xl font-bold text-white mb-4">⚡ Reaction Time</h1>
        <div class="text-white text-xl">
          Best: <span id="best">-</span>ms | Last: <span id="last">-</span>ms
        </div>
      </div>
      <div id="target" class="red">Click when Green!</div>
      <div class="text-center mt-4">
        <a
          href="index.html"
          class="bg-white/20 hover:bg-white/30 text-white font-bold py-3 px-8 rounded-lg transition inline-block"
          >← Back</a
        >
      </div>
    </div>
    <script>
      const t = document.getElementById("target");
      let start,
        state = "waiting",
        best = parseInt(localStorage.getItem("reactionBest") || "9999");
      document.getElementById("best").textContent = best === 9999 ? "-" : best;
      function reset() {
        state = "waiting";
        t.className = "red";
        t.textContent = "Click when Green!";
        setTimeout(() => {
          if (state === "waiting") {
            state = "ready";
            t.className = "green";
            t.textContent = "CLICK NOW!";
            start = Date.now();
          }
        }, Math.random() * 3000 + 2000);
      }
      t.onclick = () => {
        if (state === "ready") {
          const time = Date.now() - start;
          document.getElementById("last").textContent = time;
          if (time < best) {
            best = time;
            localStorage.setItem("reactionBest", best);
            document.getElementById("best").textContent = best;
            t.className = "yellow";
            t.textContent = `New Best: ${time}ms! Click to retry`;
          } else {
            t.className = "green";
            t.textContent = `${time}ms - Click to retry`;
          }
          state = "done";
        } else if (state === "waiting") {
          alert("Too early! Wait for green");
          reset();
        } else reset();
      };
      reset();
    </script>
  </body>
</html>
